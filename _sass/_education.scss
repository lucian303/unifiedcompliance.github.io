$element-size: 70px;

.element-container {
	width: 100%;
	position: relative;
	margin: $grid-gutter-width auto;
	
	@include media-breakpoint-up(md) {
		// Number of elements in row + space in between them
		max-width: ($element-size * 7) + ($grid-gutter-width * 6);
	}
	
	.row {
		> .col {
			padding-top: ($grid-gutter-width / 2);
			padding-bottom: ($grid-gutter-width / 2);
			
			// SVG size + grid gutter width
			width: ($element-size + $grid-gutter-width);
			height: ($element-size + $grid-gutter-width);
			
			@include media-breakpoint-down(sm) {
				padding-left: ($grid-gutter-width / 3);
				padding-right: ($grid-gutter-width / 3);
				flex-grow: unset;
				
				&.empty {
					display: none;
				}
			}
		}
	}
	
	.border-left,
	.border-left-half,
	.border-right,
	.border-right-half,
	.border-top,
	.border-top-half,
	.border-bottom,
	.border-bottom-half {
		background: #000;
		position: absolute;
		display: block;
		
		@include media-breakpoint-down(sm) {
			display: none;
		}
	}
	
	.border-left,
	.border-left-half,
	.border-right,
	.border-right-half {
		height: 1px;
		top: 50%;
	}
	
	.border-left,
	.border-right {
		width: $grid-gutter-width;
	}
	
	.border-left-half,
	.border-right-half {
		width: ($grid-gutter-width / 2);
	}
	
	.border-top,
	.border-top-half,
	.border-bottom,
	.border-bottom-half {
		width: 1px;
		left: 50%;
	}
	
	.border-top,
	.border-bottom {
		height: $grid-gutter-width;
	}
	
	.border-top-half,
	.border-bottom-half {
		height: ($grid-gutter-width / 2);
	}
	
	.border-left-half,
	.border-left {
		right: 100%;
	}
	
	.border-right-half,
	.border-right {
		left: 100%;
	}
	
	.border-bottom-half,
	.border-bottom {
		top: 100%;
	}
	
	.border-top-half,
	.border-top {
		bottom: 100%;
	}
	
	.vline-1,
	.vline-2 {
		width: 1px;
		position: absolute;
		background: #000;
		transform: translateY(-1px);
		top: ($element-size / 2) + ($grid-gutter-width / 2) + 1;
		
		@include media-breakpoint-down(sm) {
			display: none;
		}
	}
	
	.vline-1 {
		left: ($element-size * 3) + ($grid-gutter-width * 2) + ($grid-gutter-width / 2);
		height: ($element-size * 2) + ( $grid-gutter-width * 2) + 1;
	}
	
	.vline-2 {
		left: ($element-size * 4) + ($grid-gutter-width * 3) + ($grid-gutter-width / 2);
		height: ($element-size * 5) + ( $grid-gutter-width * 5) + 1;
	}
	
	.vline-connector-1,
	.vline-connector-2 {
		position: absolute;
		background: #000;
		display: block;
		top: ($element-size * 2) + ($element-size / 2) + ($grid-gutter-width * 2) + ($grid-gutter-width / 2);
		
		@include media-breakpoint-down(sm) {
			display: none;
		}
	}
	
	.vline-connector-1 {
		left: ($element-size * 3) + ($grid-gutter-width * 2) + ($grid-gutter-width / 2);
		width: ($element-size / 2) + ($grid-gutter-width / 2);
		height: 1px;
	}
	
	.vline-connector-2 {
		left: ($element-size * 3) + ($element-size / 2) + ($grid-gutter-width * 3);
		width: 1px;
		height: ($element-size / 2) + ($grid-gutter-width / 2);
		
		&:after {
			content: '';
			background: #000;
			position: absolute;
			height: 1px;
			width: ($element-size / 2) + ($grid-gutter-width / 2);
			left: 0;
			
			// Should be same as height of parent element (vline-connector-2)
			top: ($element-size / 2) + ($grid-gutter-width / 2);
		}
	}
	
	.element {
		background-color: transparent;
		background-repeat: no-repeat;
		background-size: contain;
		background-position: top left;
		height: $element-size;
		position: relative;
		width: $element-size;
		cursor: pointer;
		
		// Opacity overlay mask
		&:after {
			content: '';
			width: 100%;
			height: 100%;
			background: #fff;
			opacity: 0;
			position: absolute;
			left: 0;
			top: 0;
			transition: $transition-base;
		}
		
		@include media-breakpoint-up(md) {
			&.inactive:after {
				opacity: .5;
			}
			
			&.active:after {
				opacity: 0;
			}
		}
		
		.popover {
			border-radius: 4px;
			display: none;
			left: 50%;
			top: 50%;
			width: 100%;
			border-width: 3px 0 0 0;
			border-color: $primary;
			box-shadow: 0 8px 8px 0 rgba(#000, 0.15);
			padding: 1rem;
			position: fixed;
			transform: translate(-50%, -50%);
			
			@include media-breakpoint-up(md) {
				top: 100%;
				width: 320px;
				transform: translate(-50%, 5%);
				position: absolute;
			}
			
			p {
				font-weight: $font-weight-light;
			}
			
			&.dark-blue {
				border-color: $dark-blue;
			}
			
			&.blue {
				border-color: $blue;
			}
			
			&.grey {
				border-color: $grey;
			}
			
			&.orange {
				border-color: $orange;
			}
			
			&.yellow {
				border-color: $yellow;
			}
			
			&.turquoise {
				border-color: $turquoise;
			}
			
			&.purple {
				border-color: $purple;
			}
		}
		
		h3 {
			font-weight: $font-weight-normal;
			margin-top: 0;
			margin-bottom: 1rem;
			font-size: $h4-font-size;
		}
		
		p {
			font-size: .875rem;
			
			&:last-child {
				margin-bottom: 0;
			}
		}
	}
}

.popover-mask {
	display: none;
	position: fixed;
	width: 100%;
	height: 100%;
	left: 0;
	top: 0;
	background: rgba(#000, .8);
}